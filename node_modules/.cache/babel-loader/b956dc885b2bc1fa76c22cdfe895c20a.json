{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from 'react';\nimport TweenOne from 'rc-tween-one';\nimport { Link } from 'rc-scroll-anim';\n\nvar Header =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Header, _React$Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"phoneClick\", function () {\n      var phoneOpen = !_this.state.phoneOpen;\n\n      _this.setState({\n        phoneOpen: phoneOpen,\n        menuHeight: phoneOpen ? _this.menu.current.dom.scrollHeight : 0\n      });\n    });\n\n    _this.state = {\n      phoneOpen: false,\n      menuHeight: 0\n    };\n    _this.menu = React.createRef();\n    return _this;\n  }\n  /*\n  componentDidMount() {\n    // 如果是 react 16.3 以下版本请使用 findDOMNode;\n    this.menuDom = findDOMNode(this.menu);\n  }\n  */\n\n\n  _createClass(Header, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = _extends({}, this.props);\n\n      var dataSource = props.dataSource,\n          isMobile = props.isMobile;\n      delete props.dataSource;\n      delete props.isMobile;\n      var _this$state = this.state,\n          menuHeight = _this$state.menuHeight,\n          phoneOpen = _this$state.phoneOpen;\n      var navData = dataSource.Menu.children;\n\n      var navChildren = _Object$keys(navData).map(function (key, i) {\n        return React.createElement(Link, _extends({\n          key: i.toString()\n        }, navData[key]), navData[key].children);\n      });\n\n      return React.createElement(TweenOne, _extends({\n        component: \"header\",\n        animation: {\n          opacity: 0,\n          type: 'from'\n        }\n      }, dataSource.wrapper, props), React.createElement(\"div\", _extends({}, dataSource.page, {\n        className: \"\".concat(dataSource.page.className).concat(phoneOpen ? ' open' : '')\n      }), React.createElement(TweenOne, _extends({\n        animation: {\n          x: -30,\n          type: 'from',\n          ease: 'easeOutQuad'\n        }\n      }, dataSource.logo), React.createElement(\"img\", {\n        width: \"100%\",\n        src: dataSource.logo.children,\n        alt: \"img\"\n      })), isMobile && React.createElement(\"div\", _extends({}, dataSource.mobileMenu, {\n        onClick: function onClick() {\n          _this2.phoneClick();\n        }\n      }), React.createElement(\"em\", null), React.createElement(\"em\", null), React.createElement(\"em\", null)), React.createElement(TweenOne, _extends({}, dataSource.Menu, {\n        animation: {\n          x: 30,\n          type: 'from',\n          ease: 'easeOutQuad'\n        },\n        ref: this.menu // {(c) => { this.menu = c; }}\n        ,\n        style: isMobile ? {\n          height: menuHeight\n        } : null\n      }), navChildren)));\n    }\n  }]);\n\n  return Header;\n}(React.Component);\n\nexport default Header;","map":null,"metadata":{},"sourceType":"module"}