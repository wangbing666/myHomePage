{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/wangbing/\\u524D\\u7AEF/Home/Nav2.jsx\";\nimport React from 'react';\nimport TweenOne from 'rc-tween-one';\nimport { Link } from 'rc-scroll-anim';\n\nvar Header =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Header, _React$Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"phoneClick\", function () {\n      var phoneOpen = !_this.state.phoneOpen;\n\n      _this.setState({\n        phoneOpen: phoneOpen,\n        menuHeight: phoneOpen ? _this.menu.current.dom.scrollHeight : 0\n      });\n    });\n\n    _this.state = {\n      phoneOpen: false,\n      menuHeight: 0\n    };\n    _this.menu = React.createRef();\n    return _this;\n  }\n  /*\n  componentDidMount() {\n    // 如果是 react 16.3 以下版本请使用 findDOMNode;\n    this.menuDom = findDOMNode(this.menu);\n  }\n  */\n\n\n  _createClass(Header, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = _extends({}, this.props);\n\n      var dataSource = props.dataSource,\n          isMobile = props.isMobile;\n      delete props.dataSource;\n      delete props.isMobile;\n      var _this$state = this.state,\n          menuHeight = _this$state.menuHeight,\n          phoneOpen = _this$state.phoneOpen;\n      var navData = dataSource.Menu.children;\n\n      var navChildren = _Object$keys(navData).map(function (key, i) {\n        return React.createElement(Link, _extends({\n          key: i.toString()\n        }, navData[key], {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }), navData[key].children);\n      });\n\n      return React.createElement(TweenOne, _extends({\n        component: \"header\",\n        animation: {\n          opacity: 0,\n          type: 'from'\n        }\n      }, dataSource.wrapper, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(\"div\", _extends({}, dataSource.page, {\n        className: \"\".concat(dataSource.page.className).concat(phoneOpen ? ' open' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(TweenOne, _extends({\n        animation: {\n          x: -30,\n          type: 'from',\n          ease: 'easeOutQuad'\n        }\n      }, dataSource.logo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        width: \"100%\",\n        src: dataSource.logo.children,\n        alt: \"img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), isMobile && React.createElement(\"div\", _extends({}, dataSource.mobileMenu, {\n        onClick: function onClick() {\n          _this2.phoneClick();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(TweenOne, _extends({}, dataSource.Menu, {\n        animation: {\n          x: 30,\n          type: 'from',\n          ease: 'easeOutQuad'\n        },\n        ref: this.menu // {(c) => { this.menu = c; }}\n        ,\n        style: isMobile ? {\n          height: menuHeight\n        } : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), navChildren)));\n    }\n  }]);\n\n  return Header;\n}(React.Component);\n\nexport default Header;","map":{"version":3,"sources":["/Users/wangbing/前端/Home/Nav2.jsx"],"names":["React","TweenOne","Link","Header","props","phoneOpen","state","setState","menuHeight","menu","current","dom","scrollHeight","createRef","dataSource","isMobile","navData","Menu","children","navChildren","map","key","i","toString","opacity","type","wrapper","page","className","x","ease","logo","mobileMenu","phoneClick","height","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport TweenOne from 'rc-tween-one';\nimport { Link } from 'rc-scroll-anim';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      phoneOpen: false,\n      menuHeight: 0,\n    };\n    this.menu = React.createRef();\n  }\n\n  /*\n  componentDidMount() {\n    // 如果是 react 16.3 以下版本请使用 findDOMNode;\n    this.menuDom = findDOMNode(this.menu);\n  }\n  */\n\n  phoneClick = () => {\n    const phoneOpen = !this.state.phoneOpen;\n    this.setState({\n      phoneOpen,\n      menuHeight: phoneOpen ? this.menu.current.dom.scrollHeight : 0,\n    });\n  };\n\n  render() {\n    const { ...props } = this.props;\n    const { dataSource, isMobile } = props;\n    delete props.dataSource;\n    delete props.isMobile;\n    const { menuHeight, phoneOpen } = this.state;\n    const navData = dataSource.Menu.children;\n    const navChildren = Object.keys(navData).map((key, i) => (\n      <Link key={i.toString()} {...navData[key]}>\n        {navData[key].children}\n      </Link>\n    ));\n    return (\n      <TweenOne\n        component=\"header\"\n        animation={{ opacity: 0, type: 'from' }}\n        {...dataSource.wrapper}\n        {...props}\n      >\n        <div\n          {...dataSource.page}\n          className={`${dataSource.page.className}${phoneOpen ? ' open' : ''}`}\n        >\n          <TweenOne\n            animation={{ x: -30, type: 'from', ease: 'easeOutQuad' }}\n            {...dataSource.logo}\n          >\n            <img width=\"100%\" src={dataSource.logo.children} alt=\"img\" />\n          </TweenOne>\n          {isMobile && (\n            <div\n              {...dataSource.mobileMenu}\n              onClick={() => {\n                this.phoneClick();\n              }}\n            >\n              <em />\n              <em />\n              <em />\n            </div>\n          )}\n          <TweenOne\n            {...dataSource.Menu}\n            animation={{ x: 30, type: 'from', ease: 'easeOutQuad' }}\n            ref={this.menu} // {(c) => { this.menu = c; }}\n            style={isMobile ? { height: menuHeight } : null}\n          >\n            {navChildren}\n          </TweenOne>\n        </div>\n      </TweenOne>\n    );\n  }\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}